<div class="sensor-registration-page">
    <h3>Register a Sensor:</h3>
    <form name="sensorRegistrationForm" [formGroup]="sensorRegistrationForm">
        <div class="form-group row mt">
            <label for="deviceID"  class="col-form-label">Sensor ID*:</label>
            <div class="device-input">
                <div class="input-group">
                    <input type="text"  class="form-control pl-3" formControlName="deviceID"
                        [ngClass]="{'is-invalid':sensorRegistrationForm.controls.deviceID.touched && sensorRegistrationForm.controls.deviceID.invalid}" required />
                  </div>
                  <div class="errors" 
                      *ngIf="sensorRegistrationForm.controls.deviceID.invalid && 
                          (sensorRegistrationForm.controls.deviceID.touched || sensorRegistrationForm.controls.deviceID.dirty)">
                      <small class="form-text text-danger" *ngIf="sensorRegistrationForm.controls.deviceID.errors.required">Sensor ID is required!</small>
                </div>
            </div>

            <label for="deviceName"  class="col-form-label">Sensor Name*:</label>
            <div class="device-input">
                <div class="input-group">
                    <input type="text"  class="form-control pl-3" formControlName="deviceName"
                        [ngClass]="{'is-invalid':sensorRegistrationForm.controls.deviceName.touched && sensorRegistrationForm.controls.deviceName.invalid}" required />
                  </div>
                  <div class="errors" 
                      *ngIf="sensorRegistrationForm.controls.deviceName.invalid && 
                          (sensorRegistrationForm.controls.deviceName.touched || sensorRegistrationForm.controls.deviceName.dirty)">
                      <small class="form-text text-danger" *ngIf="sensorRegistrationForm.controls.deviceName.errors.required">Sensor Name is required!</small>
                </div>
            </div>
        </div>

        <div class="form-group row mt">
            <label for="gatewayID"  class="col-form-label">Gateway ID:</label>
            <div class="device-input">
                <div class="input-group">
                    <ng-select
                        formControlName="gatewayID"
                        class="custom"
                        [items]="gatewayList"
                        [multiple]="false"
                        [closeOnSelect]="false"
                        [searchable]="false"
                        bindLabel="id"
                        placeholder="Select gateway">
                    </ng-select>
                </div>
            </div>

            <label for="location"  class="col-form-label">Location*:</label>
            <div class="device-input">
                <div class="input-group">
                    <input type="text"  class="form-control pl-3" formControlName="location"
                        [ngClass]="{'is-invalid':sensorRegistrationForm.controls.location.touched && sensorRegistrationForm.controls.location.invalid}" required />
                  </div>
                  <div class="errors" 
                      *ngIf="sensorRegistrationForm.controls.location.invalid && 
                          (sensorRegistrationForm.controls.location.touched || sensorRegistrationForm.controls.location.dirty)">
                      <small class="form-text text-danger" *ngIf="sensorRegistrationForm.controls.location.errors.required">Location is required!</small>
                </div>
            </div>
        </div>

        <div class="form-group row mt">
            <label for="mintempthreshold"  class="col-form-label">Minimun threshold*:</label>
            <div class="device-input">
                <div class="input-group">
                    <input type="text"  class="form-control pl-3" formControlName="mintempthreshold"
                        [ngClass]="{'is-invalid':sensorRegistrationForm.controls.mintempthreshold.touched && sensorRegistrationForm.controls.mintempthreshold.invalid}" required />
                  </div>
                  <div class="errors" 
                      *ngIf="sensorRegistrationForm.controls.mintempthreshold.invalid && 
                          (sensorRegistrationForm.controls.mintempthreshold.touched || sensorRegistrationForm.controls.mintempthreshold.dirty)">
                      <small class="form-text text-danger" *ngIf="sensorRegistrationForm.controls.mintempthreshold.errors.required">Minimun threshold is required!</small>
                </div>
            </div>

            <label for="maxtempthreshold"  class="col-form-label">Maximum threshold*:</label>
            <div class="device-input">
                <div class="input-group">
                    <input type="text"  class="form-control pl-3" formControlName="maxtempthreshold"
                        [ngClass]="{'is-invalid':sensorRegistrationForm.controls.maxtempthreshold.touched && sensorRegistrationForm.controls.maxtempthreshold.invalid}" required />
                  </div>
                  <div class="errors" 
                      *ngIf="sensorRegistrationForm.controls.maxtempthreshold.invalid && 
                          (sensorRegistrationForm.controls.maxtempthreshold.touched || sensorRegistrationForm.controls.maxtempthreshold.dirty)">
                      <small class="form-text text-danger" *ngIf="sensorRegistrationForm.controls.maxtempthreshold.errors.required">Maximun threshold is required!</small>
                </div>
            </div>
        </div>

        <div class="button-group mt" role="group">
            <button routerLink=".." type="button" class="btn btn-m btn-grey">
                Cancel
            </button>
            <button (click)="onSensorRegistrationFormSubmit(sensorRegistrationForm)" type="submit" class="btn btn-m btn-primary" [disabled]="disableSubmitButton(sensorRegistrationForm)">
                Add
            </button>
        </div>
    </form>
</div>